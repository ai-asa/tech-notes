# この記事の対象者
この記事は以下のような方を対象としています：

- Cursorの最新バージョン（0.47）を使用している
- Cursorで**Project Rulesを設定したものの、適用されなくて困っている**
- **AgentにProject Rulesファイルを作成させたら、空のファイルになって困っている**（※先にお伝えしておくと、現時点では根本的な解決はしていません）

## Project Rules（知っている人は読み飛ばし推奨）
![](https://storage.googleapis.com/zenn-user-upload/6aa99850a380-20250321.png)
v0.45から追加された機能で、プロジェクトごとにAgentの動作をカスタムするためのルールを設定できる機能です。

プロジェクトのルートディレクトリに`.cursor/rules`ディレクトリを作成し、ルールを記述した`.mdcファイル`を配置することで使用できます。

ルール定義ファイルは以下のfrontmatter部分と、markdown形式で記述したルールコンテキストで構成されます。

```
---
`description`: ルールが適用される条件の説明
`globs`: ルールが適用されるファイル/フォルダのglobパターンを記述(ex. src/**/*)
`alwaysApply`: 常にルールを適用するかどうかのbool値
---
```

### Rule Type
![](https://storage.googleapis.com/zenn-user-upload/e498a2746e7c-20250321.png)
v0.47.5から、Project RulesにRule Typeが追加されました。
これにより、作成したProject Rulesがいつ適用されるかを明確に指定できるようになりました。

**使用できるルールタイプ**
- `Always Apply`: ルールを常時適用する
- `Auto Attached`: 指定したglobパターンに一致するファイルが参照された時に自動的にルールが適用される
- `Manual Reference`: ルールファイルを明示的に参照した場合に適用
- `Semantic Selectio`: Agentがdescriptionを読んで、現在のタスクに関連すると判断した場合に適用

# (本題)現在多くのユーザーで発生している問題
## Auto Attachedの時、作成したルールが自動で読み込まれない
## Agentで作成時に空のファイルになる現象

# 読み込まれない場合の原因と対策
## 原因
### descriptionの記述がない
## 対策
### メモ帳で開いてdescriptionを書き込む

# 空のファイルになる場合の原因と対策
## 原因
### mdcファイルの書き込みになんらかの制限？
### キャッシュもなにか問題がありそう
## 対策
### .mdで出力させて移動
### ただし問題も...
### 根本的な解決はアプデ待ち

# まとめ

# ステータス
- [ ] 下書き
- [ ] レビュー待ち
- [ ] 完了 